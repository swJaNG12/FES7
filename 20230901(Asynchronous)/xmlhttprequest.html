<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<body>
  <h1>message.txt와 통신해보자</h1>
  <button>통신시작</button>
  <p></p>
  <script>
    // const xhrObj = new XMLHttpRequest();
    // // open 통신채널 열기
    // // (verb, url)
    // xhrObj.open('GET', 'Url')

    // // onreadystatechange
    // xhrObj.onreadystatechange = () => {
    //   if(xhrObj.readyState === 4 && xhrObj.status === 200) {
        
    //   }
    // }

    // const p = document.querySelector('p');
    // const btn = document.querySelector('button');

    // const xhrRequest = () => {
    //   const xhr = new XMLHttpRequest();
    //   xhr.open('GET', './message.txt');

    //   xhr.onreadystatechange = () => {
    //     if(xhr.readyState === 4 && xhr.status === 200) {
    //       const result = xhr.responseText;
    //       p.textContent = result;
    //     }
    //   };

    //   xhr.send();
    // }
    // btn.addEventListener('click', xhrRequest)


    // const p = document.querySelector('p');
    // const btn = document.querySelector('button');
    let result;

    const xhrRequest = () => {
      const xhr = new XMLHttpRequest();
      xhr.open('GET', './message.txt');

      xhr.onreadystatechange = () => {
        if(xhr.readyState === 4 && xhr.status === 200) {
          const result = xhr.responseText;
          // p.textContent = result;
          console.log(result)
        }
      };

      xhr.send();
    }
    // btn.addEventListener('click', xhrRequest)
    xhrRequest();
    console.log(result)
    
  </script>
</body>
</html>