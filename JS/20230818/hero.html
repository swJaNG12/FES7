<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<body>
  <script>
    async function fetchRequest() {
      const response = await fetch();
      const jsonData = await response.json();
    }


    let jsonObj = {};
    function xhrRequest() {
      const requestObj = new XMLHttpRequest(); // 통신에 필요한 객체생성
      requestObj.open('GET','heros.json' ) // 포트열기 open('http verb', 통신할 서버(api의 주소)),
      requestObj.send(); // 서버에  요청을 보냄
      requestObj.onreadystatechange = () => { // 서버와 클라이언트의 통신 상태가 변화가 생기면 감지해서 함수를 실행한다.
        // 통신 준비, 요청, 완료상태 등등 통신에 여러 상태가 있기 때문에 console에 여러번 찍힐 수 있다.
        // console.log(requestObj.responseText) // 서버의 응답내용이 문자열 형태로 responseText에 담겨있음

        // 받은 데이터를 객체로 바꾸기
        // 이때 중요한 것은 데이터를 먼저 다 받은 다음에 데이터를 처리해야 한다.
        // readState 가 4단계에 있다면 요청이 수행됐고 서버로 부터 데이터를 다 받은 상태를 의미한다.
        // 그리고 status는 서버가 우리한테 전달하는 정보다
        // 200 이라는 뜻은 통신이 잘 이루어졌다는 것이다.(즉, 서버가 요청을 받고 데이터를 잘 줬다는 뜻이다.)
        if(requestObj.readyState === 4 && requestObj.status === 200) {
          jsonObj = JSON.parse(requestObj.responseText)
        }
      }
    }
  </script>
</body>
</html>