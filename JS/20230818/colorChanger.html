<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <style>
    .container {
      border: 1px solid red;
      display: flex;
      flex-direction: column;
      align-items: center;
      
    }
    .box {
      width: 400px;
      height: 400px;
      background-color: #000;
    }
    ul {
      display: flex;
      gap: 100px;
    }
    .red {
      background-color: red;
    }
    .yellow {
      background-color: yellow;
    }
    .green {
      background-color: green;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="box"></div>
    <ul>
      <li><button id="red" class="btn-red">빨강</button></li>
      <li><button id="yellow" class="btn-yellow">노랑</button></li>
      <li><button id="green" class="btn-green">초록</button></li>
    </ul>
  </div>

  <script>
    const container = document.querySelector('.container');
    const box = document.querySelector('.box');
    
    // const btnRed = document.querySelector('.btn-red');
    // const btnYellow = document.querySelector('.btn-yellow');
    // const btnGreen = document.querySelector('.btn-green');

    const btns = document.querySelectorAll('button');

    // button태그에 id로 color값을 넣으면 자동으로 배열 생성    
    const colors = Array(btns.length).fill(0).map((_,i) => btns[i].id);
    // const colors = ['red', 'green', 'yellow'];

    function updateBoxColor(color) {
      // v1, 다른 color 클래스만 골라서 삭제
      for(const c of colors) {
        if(box.classList.contains(c)) {
          box.classList.remove(c);
        }
      }
      // v2, 모든 color 클래스 삭제 후 추가
      // box.classList.remove('red', 'green','yellow');
      box.classList.add(color);
    }

    function checkBtnColor(e) {
      const clickedColor = e.target.id;
      console.log(e.target.id);
      updateBoxColor(clickedColor);
    }


    // 하나하나 버튼 선언할 필요없음
    btns.forEach((el, i) => {
      el.addEventListener('click', checkBtnColor)
    })
    // btnRed.addEventListener('click', checkBtnColor);
    // btnYellow.addEventListener('click', checkBtnColor);
    // btnGreen.addEventListener('click',checkBtnColor);
  </script>
</body>
</html>